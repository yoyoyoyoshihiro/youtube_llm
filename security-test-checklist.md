# セキュリティテスト・プライバシー検証チェックリスト

## プライバシー保護テスト

### ✅ データ処理検証
- [ ] **ローカル処理のみ**: 外部サーバーへの通信が発生しないか
- [ ] **一時的処理**: URLがログファイルや設定ファイルに保存されないか
- [ ] **メモリクリア**: 処理完了後に変数がメモリから削除されるか
- [ ] **バックアップ除外**: システムバックアップにデータが含まれないか

### ✅ クリップボード監視制限
- [ ] **対象URL限定**: YouTube以外のURLで反応しないか
  ```
  テストURL例:
  ❌ https://facebook.com/video
  ❌ https://twitter.com/status
  ❌ https://gmail.com
  ✅ https://youtube.com/watch?v=abc123
  ✅ https://youtu.be/abc123
  ```

- [ ] **機密情報検出**: パスワード等を含むURLで停止するか
  ```
  テストURL例:
  ❌ https://youtube.com/watch?v=abc&password=123
  ❌ https://youtube.com/watch?v=abc&token=xyz
  ❌ https://youtube.com/watch?v=abc&email=test@example.com
  ```

### ✅ 権限スコープ検証
- [ ] **最小権限**: 不要な権限を要求していないか
- [ ] **権限説明**: ユーザーに権限の用途を明確に説明しているか
- [ ] **権限拒否**: 権限が拒否されても安全に動作するか

## セキュリティ脅威テスト

### ✅ 入力検証
- [ ] **不正URL**: マルウェアサイト等への遷移を防げるか
- [ ] **SQLインジェクション**: SQL文字列が含まれても安全か
- [ ] **XSS攻撃**: スクリプトタグ等が含まれても安全か
- [ ] **長大文字列**: 異常に長いURLでクラッシュしないか

### ✅ Intent安全性
- [ ] **Intent検証**: 不正なIntentを受信しても安全か
- [ ] **パッケージ検証**: 偽装アプリからのIntentを拒否するか
- [ ] **データ検証**: Intent内のデータを検証しているか

### ✅ エラーハンドリング
- [ ] **例外処理**: 全ての例外が適切に処理されるか
- [ ] **フェイルセーフ**: エラー時に安全な状態に戻るか
- [ ] **ログ制限**: エラーログに機密情報が含まれないか

## コンプライアンステスト

### ✅ 法的要件
- [ ] **個人情報保護法**: 個人を特定可能な情報を処理していないか
- [ ] **プラットフォームポリシー**: YouTube/Google ToSに違反していないか
- [ ] **アプリストアポリシー**: Google Play規約に準拠しているか

### ✅ ユーザー同意
- [ ] **明示的同意**: ユーザーが明確に同意しているか
- [ ] **取り消し可能**: いつでも機能を無効化できるか
- [ ] **透明性**: 処理内容がユーザーに明確か

## パフォーマンステスト

### ✅ リソース使用量
- [ ] **メモリ使用量**: 異常なメモリ消費がないか
- [ ] **CPU使用量**: バックグラウンドでCPUを消費しすぎないか
- [ ] **バッテリー影響**: バッテリー消費が最小限か

### ✅ 応答性
- [ ] **通知表示速度**: 0.5秒以内に通知が表示されるか
- [ ] **アプリ起動速度**: NotebookLMが適切な速度で起動するか
- [ ] **UI応答性**: 通知ボタンがすぐに反応するか

## 運用テスト

### ✅ 長期運用
- [ ] **メモリリーク**: 長時間使用でメモリリークが発生しないか
- [ ] **ファイル蓄積**: 一時ファイルが蓄積されないか
- [ ] **設定保持**: 設定が適切に保存・復元されるか

### ✅ アップデート対応
- [ ] **下位互換性**: 古いバージョンからのアップデートで問題ないか
- [ ] **設定移行**: 設定が適切に移行されるか
- [ ] **機能無効化**: 新機能が既存機能に影響しないか

## 実機テスト環境

### ✅ デバイス検証
- [ ] **Android バージョン**: 8.0以上での動作確認
- [ ] **メーカー別**: Samsung, Pixel, OnePlus等での動作確認  
- [ ] **RAM容量**: 低RAM端末での動作確認

### ✅ ネットワーク環境
- [ ] **Wi-Fi環境**: Wi-Fi接続時の動作確認
- [ ] **モバイル通信**: 4G/5G接続時の動作確認
- [ ] **オフライン**: ネットワーク未接続時の適切な処理

## 監査ログ

### テスト実行記録
```
実行日時: ____________________
テスト端末: __________________
Androidバージョン: ____________
テスト者: ____________________

チェック項目完了数: _____ / 40
重大な問題: _________________
軽微な問題: _________________
改善提案: ___________________
```

### 承認
- [ ] **セキュリティ担当者承認**: ________________
- [ ] **プライバシー担当者承認**: ________________  
- [ ] **開発責任者承認**: ________________